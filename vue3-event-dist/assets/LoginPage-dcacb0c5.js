import{r as _,u as R,a as $,w as q,o as g,c as v,b as a,d as e,e as d,f as h,g as t,h as x,i as N,E as S,j as P,k as C,l as w,p as z,m as F}from"./index-3d212614.js";import{E as M,a as T}from"./el-col-26493748.js";import{E as j}from"./el-checkbox-6004289b.js";import{E as A,a as D}from"./el-form-item-2c81f57d.js";import{E as G}from"./el-link-86c0a803.js";import{_ as H,E as J}from"./_plugin-vue_export-helper-287f15d6.js";import{E as O}from"./el-input-0664a9f6.js";import"./el-message-b21aad48.js";import"./isEqual-22af668a.js";const I=i=>(z("data-v-fe8b55bd"),i=i(),F(),i),Q=I(()=>x("h1",{class:"h1"},"注册",-1)),W=I(()=>x("h1",{class:"h1"},"登录",-1)),X={class:"flex"},Y={__name:"LoginPage",setup(i){const n=_(!1),m=_(),o=_({username:"",password:"",repassword:""}),y={username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:5,max:10,message:"用户名必须是5-10位的字母和数字",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{pattern:/^\S{6,15}$/,message:"密码必须是6-15位的非空字符",trigger:"blur"}],repassword:[{required:!0,message:"请再次输入密码",trigger:"blur"},{pattern:/^\S{6,15}$/,message:"密码必须是6-15位的非空字符",trigger:"blur"},{validator:(f,l,u)=>{l!==o.value.password?u(new Error("两次输入密码不一致")):u()},trigger:"blur"}]},b=async()=>{await m.value.validate(),await N(o.value),S.success("注册成功"),n.value=!1},U=R(),K=$(),V=async()=>{await m.value.validate();const{data:f}=await P(o.value);U.setToken(f.token),K.push("/"),S.success("登录成功")};return q(n,()=>{o.value={username:"",password:"",repassword:""}}),(f,l)=>{const u=T,s=A,p=O,k=J,c=G,E=D,L=j,B=M;return g(),v(B,{class:"login-page"},{default:a(()=>[e(u,{span:12,class:"bg"}),e(u,{span:6,offset:3,class:"form"},{default:a(()=>[n.value?(g(),v(E,{key:0,model:o.value,rules:y,ref_key:"form",ref:m,size:"large",autocomplete:"off"},{default:a(()=>[e(s,null,{default:a(()=>[Q]),_:1}),e(s,{prop:"username"},{default:a(()=>[e(p,{modelValue:o.value.username,"onUpdate:modelValue":l[0]||(l[0]=r=>o.value.username=r),"prefix-icon":d(C),placeholder:"请输入用户名",minlength:"5",maxlength:"10"},null,8,["modelValue","prefix-icon"])]),_:1}),e(s,{prop:"password"},{default:a(()=>[e(p,{modelValue:o.value.password,"onUpdate:modelValue":l[1]||(l[1]=r=>o.value.password=r),"prefix-icon":d(w),type:"password",placeholder:"请输入密码",minlength:"6",maxlength:"15"},null,8,["modelValue","prefix-icon"])]),_:1}),e(s,{prop:"repassword"},{default:a(()=>[e(p,{modelValue:o.value.repassword,"onUpdate:modelValue":l[2]||(l[2]=r=>o.value.repassword=r),"prefix-icon":d(w),onKeyup:h(b,["enter"]),type:"password",placeholder:"请输入再次密码",minlength:"6",maxlength:"15"},null,8,["modelValue","prefix-icon","onKeyup"])]),_:1}),e(s,null,{default:a(()=>[e(k,{onClick:b,class:"button",type:"primary","auto-insert-space":""},{default:a(()=>[t(" 注册 ")]),_:1})]),_:1}),e(s,{class:"flex"},{default:a(()=>[e(c,{type:"info",underline:!1,onClick:l[3]||(l[3]=r=>n.value=!1)},{default:a(()=>[t(" ← 返回 ")]),_:1})]),_:1})]),_:1},8,["model"])):(g(),v(E,{key:1,model:o.value,rules:y,ref_key:"form",ref:m,size:"large",autocomplete:"off"},{default:a(()=>[e(s,null,{default:a(()=>[W]),_:1}),e(s,{prop:"username"},{default:a(()=>[e(p,{modelValue:o.value.username,"onUpdate:modelValue":l[4]||(l[4]=r=>o.value.username=r),"prefix-icon":d(C),placeholder:"请输入用户名"},null,8,["modelValue","prefix-icon"])]),_:1}),e(s,{prop:"password"},{default:a(()=>[e(p,{modelValue:o.value.password,"onUpdate:modelValue":l[5]||(l[5]=r=>o.value.password=r),onKeyup:h(V,["enter"]),name:"password","prefix-icon":d(w),type:"password",placeholder:"请输入密码"},null,8,["modelValue","onKeyup","prefix-icon"])]),_:1}),e(s,{class:"flex"},{default:a(()=>[x("div",X,[e(L,null,{default:a(()=>[t("记住我")]),_:1}),e(c,{type:"primary",underline:!1},{default:a(()=>[t("忘记密码？")]),_:1})])]),_:1}),e(s,null,{default:a(()=>[e(k,{onClick:V,class:"button",type:"primary","auto-insert-space":""},{default:a(()=>[t("登录")]),_:1})]),_:1}),e(s,{class:"flex"},{default:a(()=>[e(c,{type:"info",underline:!1,onClick:l[6]||(l[6]=r=>n.value=!0)},{default:a(()=>[t(" 注册 → ")]),_:1})]),_:1})]),_:1},8,["model"]))]),_:1})]),_:1})}}},ue=H(Y,[["__scopeId","data-v-fe8b55bd"]]);export{ue as default};
